{"version":3,"sources":["../src/ParsedError.js"],"names":["StackTrace","ParsedError","Error","constructor","err","stackTrace","message","originalError","stack","toString","name","originalStack","_toStringCache","str","previous"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,cAAvB;;AAEA,eAAe,MAAMC,WAAN,SAA0BC,KAA1B,CAAgC;;AAI7CC,cAAYC,GAAZ,EAAwBC,UAAxB,EAAgD;AAAA,UAApCD,GAAoC,YAA/BF,KAA+B;AAAA,gHAApCE,GAAoC;AAAA;;AAAA,UAAxBC,UAAwB,YAAZL,UAAY;AAAA,4HAAxBK,UAAwB;AAAA;;AAC9C,UAAMD,IAAIE,OAAV;AACA,SAAKC,aAAL,GAAqBH,GAArB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;;AAEA;AACA,SAAKG,KAAL,GAAa,KAAKC,QAAL,EAAb;AACD;;AAED,MAAIC,IAAJ,GAAmB;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,gBACV,KAAKH,aAAL,CAAmBG,IADT;AAElB;;AAED,MAAIJ,OAAJ,GAAsB;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,iBACb,KAAKC,aAAL,CAAmBD,OADN;AAErB;;AAED,MAAIK,aAAJ,GAA4B;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,iBACnB,KAAKJ,aAAL,CAAmBC,KADA;AAE3B;;AAEDC,aAAW;AACT,QAAI,KAAKG,cAAT,EAAyB;AACvB,aAAO,KAAKA,cAAZ;AACD;;AAED,QAAIC,MAAO,iBAAe,KAAKH,IAAK,OAAI,KAAKJ,OAAQ,KAArD;AACAO,WAAO,KAAKR,UAAL,CAAgBI,QAAhB,EAAP;;AAEA,QAAI,KAAKK,QAAT,EAAmB;AACjBD,aAAO,IAAP;AACAA,aAAO,YAAP;AACAA,aAAO,KAAKC,QAAL,CAAcL,QAAd,EAAP;AACD;;AAED,WAAO,KAAKG,cAAL,GAAsBC,GAA7B;AACD;AAxC4C","file":"ParsedError.js","sourcesContent":["import StackTrace from './StackTrace';\n\nexport default class ParsedError extends Error {\n  originalError: Error;\n  stackTrace: StackTrace;\n\n  constructor(err: Error, stackTrace: StackTrace) {\n    super(err.message);\n    this.originalError = err;\n    this.stackTrace = stackTrace;\n\n    // http://stackoverflow.com/questions/35392675/how-to-override-error-stack-getter\n    this.stack = this.toString();\n  }\n\n  get name(): string {\n    return this.originalError.name;\n  }\n\n  get message(): string {\n    return this.originalError.message;\n  }\n\n  get originalStack(): string {\n    return this.originalError.stack;\n  }\n\n  toString() {\n    if (this._toStringCache) {\n      return this._toStringCache;\n    }\n\n    let str = `ParsedError: ${this.name}: ${this.message}\\n`;\n    str += this.stackTrace.toString();\n\n    if (this.previous) {\n      str += '\\n';\n      str += 'PREVIOUS: ';\n      str += this.previous.toString();\n    }\n\n    return this._toStringCache = str;\n  }\n}\n"]}