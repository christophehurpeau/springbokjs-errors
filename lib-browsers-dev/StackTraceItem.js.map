{"version":3,"sources":["../src/StackTraceItem.js"],"names":[],"mappings":";;;;;;;;;;IAAqB,c;AACjB,4BAAY,IAAZ,EAAkB,aAAlB,EAAiC;AAAA;;AAC7B,aAAK,QAAL,GAAgB,KAAK,QAArB;AACA,aAAK,UAAL,GAAkB,KAAK,UAAvB;AACA,aAAK,YAAL,GAAoB,KAAK,YAAzB;AACA,aAAK,YAAL,GAAoB,KAAK,YAAzB;AACA,aAAK,QAAL,GAAgB,KAAK,QAArB;AACA,aAAK,UAAL,GAAkB,KAAK,UAAvB;AACA,aAAK,MAAL,GAAc,KAAK,MAAnB;AACA,aAAK,IAAL,GAAY,KAAK,IAAjB;;AAEA,aAAK,gBAAL,GAAwB,KAAK,gBAA7B;AACA,aAAK,kBAAL,GAA0B,KAAK,kBAA/B;AACA,aAAK,oBAAL,GAA4B,KAAK,oBAAjC;;AAEA,YAAI,iBAAiB,KAAK,QAAtB,IAAkC,KAAK,QAAL,CAAc,UAAd,CAAyB,cAAc,OAAvC,CAAtC,EAAuF;AACnF,iBAAK,YAAL,GAAoB,cAAc,MAAd,GACM,KAAK,QAAL,CAAc,MAAd,CAAqB,cAAc,OAAd,CAAsB,MAA3C,CAD1B;AAEA,gBAAI,KAAK,gBAAT,EAA2B;AACvB,qBAAK,oBAAL,GAA4B,cAAc,MAAd,GACN,KAAK,QAAL,CAAc,MAAd,CAAqB,cAAc,OAAd,CAAsB,MAA3C,CADtB;AAEH;AACJ,SAPD,MAOO;AACH,iBAAK,YAAL,GAAoB,KAAK,QAAzB;AACA,iBAAK,oBAAL,GAA4B,KAAK,gBAAjC;AACH;AACJ;;;;sCAEa;AACV,mBAAO,KAAK,QAAZ;AACH;;;wCAEe;AACZ,mBAAO,KAAK,IAAZ;AACH;;;0CAEiB;AACd,mBAAO,KAAK,MAAL,GAAc,CAArB;AACH;;;mDAE0B;AACvB,mBAAO,KAAK,QAAZ;AACH;;;mCAEU;AACP,gBAAI,MAAM,SAAV;AACA,gBAAI,KAAK,YAAT,EAAuB;AACnB,uBAAO,KAAK,YAAZ;AACH,aAFD,MAEO,IAAI,KAAK,QAAT,EAAmB;AACtB,uBAAU,KAAK,QAAf,UAA2B,KAAK,UAAL,IAAmB,aAA9C;AACH;;AAED,gBAAI,KAAK,MAAT,EAAiB;AACb,uBAAO,WAAP;AACH,aAFD,MAEO;AACH,oBAAM,WAAc,KAAK,YAAnB,SAAmC,KAAK,UAAxC,SAAsD,KAAK,YAAjE;AACA,oBAAI,KAAK,YAAL,IAAqB,KAAK,QAA9B,EAAwC;AACpC,kCAAY,QAAZ;AACH,iBAFD,MAEO;AACH,2BAAO,QAAP;AACH;;AAED,oBAAI,KAAK,gBAAL,IAAyB,KAAK,gBAAL,KAA0B,KAAK,YAA5D,EAA0E;AACtE,wBAAM,eAAkB,KAAK,gBAAvB,SAA2C,KAAK,kBAAhD,SAAsE,KAAK,oBAAjF;AACA,4CAAsB,YAAtB;AACH;AACJ;AACD,mBAAO,GAAP;AACH;;;;;;kBApEgB,c","file":"StackTraceItem.js","sourcesContent":["export default class StackTraceItem {\n    constructor(item, sourceMapping) {\n        this.fileName = item.fileName;\n        this.lineNumber = item.lineNumber;\n        this.columnNumber = item.columnNumber;\n        this.functionName = item.functionName;\n        this.typeName = item.typeName;\n        this.methodName = item.methodName;\n        this.native = item.native;\n        this.file = item.file;\n\n        this.compiledFileName = item.compiledFileName;\n        this.compiledLineNumber = item.compiledLineNumber;\n        this.compiledColumnNumber = item.compiledColumnNumber;\n\n        if (sourceMapping && item.fileName && item.fileName.startsWith(sourceMapping.current)) {\n            this.realFileName = sourceMapping.source\n                                    + item.fileName.substr(sourceMapping.current.length);\n            if (this.compiledFileName) {\n                this.realCompiledFileName = sourceMapping.source\n                                    + item.fileName.substr(sourceMapping.current.length);\n            }\n        } else {\n            this.realFileName = item.fileName;\n            this.realCompiledFileName = item.compiledFileName;\n        }\n    }\n\n    getFileName() {\n        return this.fileName;\n    }\n\n    getLineNumber() {\n        return this.line;\n    }\n\n    getColumnNumber() {\n        return this.column + 1;\n    }\n\n    getScriptNameOrSourceURL() {\n        return this.fileName;\n    }\n\n    toString() {\n        let str = '    at ';\n        if (this.functionName) {\n            str += this.functionName;\n        } else if (this.typeName) {\n            str += `${this.typeName}.${this.methodName || '<anonymous>'}`;\n        }\n\n        if (this.native) {\n            str += ' [native]';\n        } else {\n            const fullPath = `${this.realFileName}:${this.lineNumber}:${this.columnNumber}`;\n            if (this.functionName || this.typeName) {\n                str += ` (${fullPath})`;\n            } else {\n                str += fullPath;\n            }\n\n            if (this.compiledFileName && this.compiledFileName !== this.realFileName) {\n                const compiledPath = `${this.compiledFileName}:${this.compiledLineNumber}:${this.compiledColumnNumber}`;\n                str += ` (compiled= ${compiledPath})`;\n            }\n        }\n        return str;\n    }\n}\n"]}