{"version":3,"sources":["../src/ParsedError.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;;;;;;IAEqB,W;;;AAIjB,yBAAY,GAAZ,EAAwB,UAAxB,EAAgD;AAAA;;AAAA,cAApC,GAAoC,YAA/B,KAA+B;AAAA,sHAApC,GAAoC;AAAA;;AAAA,cAAxB,UAAwB;AAAA,kIAAxB,UAAwB;AAAA;;AAAA,mGACtC,IAAI,OADkC;;AAE5C,cAAK,aAAL,GAAqB,GAArB;AACA,cAAK,UAAL,GAAkB,UAAlB;;AAEA;AACA,cAAK,KAAL,GAAa,MAAK,QAAL,EAAb;AAN4C;AAO/C;;;;mCAcU;AACP,gBAAI,KAAK,cAAT,EAAyB;AACrB,uBAAO,KAAK,cAAZ;AACH;;AAED,gBAAI,wBAAsB,KAAK,IAA3B,UAAoC,KAAK,OAAzC,OAAJ;AACA,mBAAO,KAAK,UAAL,CAAgB,QAAhB,EAAP;;AAEA,gBAAI,KAAK,QAAT,EAAmB;AACf,uBAAO,IAAP;AACA,uBAAO,YAAP;AACA,uBAAO,KAAK,QAAL,CAAc,QAAd,EAAP;AACH;;AAED,mBAAO,KAAK,cAAL,GAAsB,GAA7B;AACH;;;4BA3BkB;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,wBACR,KAAK,aAAL,CAAmB,IADX;AAElB;;;4BAEqB;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,yBACX,KAAK,aAAL,CAAmB,OADR;AAErB;;;4BAE2B;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,yBACjB,KAAK,aAAL,CAAmB,KADF;AAE3B;;;;EAvBoC,K;;kBAApB,W","file":"ParsedError.js","sourcesContent":["import StackTrace from './StackTrace';\n\nexport default class ParsedError extends Error {\n    originalError: Error;\n    stackTrace: StackTrace;\n\n    constructor(err: Error, stackTrace: StackTrace) {\n        super(err.message);\n        this.originalError = err;\n        this.stackTrace = stackTrace;\n\n        // http://stackoverflow.com/questions/35392675/how-to-override-error-stack-getter\n        this.stack = this.toString();\n    }\n\n    get name(): string {\n        return this.originalError.name;\n    }\n\n    get message(): string {\n        return this.originalError.message;\n    }\n\n    get originalStack(): string {\n        return this.originalError.stack;\n    }\n\n    toString() {\n        if (this._toStringCache) {\n            return this._toStringCache;\n        }\n\n        let str = `ParsedError: ${this.name}: ${this.message}\\n`;\n        str += this.stackTrace.toString();\n\n        if (this.previous) {\n            str += '\\n';\n            str += 'PREVIOUS: ';\n            str += this.previous.toString();\n        }\n\n        return this._toStringCache = str;\n    }\n}\n"]}