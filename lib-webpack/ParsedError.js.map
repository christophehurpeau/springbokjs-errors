{"version":3,"sources":["../src/ParsedError.js"],"names":["StackTrace","ParsedError","err","stackTrace","message","originalError","stack","toString","_toStringCache","str","name","previous","Error"],"mappings":";;;;;;;;AAAA,OAAOA,UAAP,MAAuB,cAAvB;;IAEqBC,W;;;AAInB,uBAAYC,GAAZ,EAAwBC,UAAxB,EAAgD;AAAA;;AAAA,0HACxCD,IAAIE,OADoC;;AAE9C,UAAKC,aAAL,GAAqBH,GAArB;AACA,UAAKC,UAAL,GAAkBA,UAAlB;;AAEA;AACA,UAAKG,KAAL,GAAa,MAAKC,QAAL,EAAb;AAN8C;AAO/C;;;;+BAcU;AACT,UAAI,KAAKC,cAAT,EAAyB;AACvB,eAAO,KAAKA,cAAZ;AACD;;AAED,UAAIC,wBAAsB,KAAKC,IAA3B,UAAoC,KAAKN,OAAzC,OAAJ;AACAK,aAAO,KAAKN,UAAL,CAAgBI,QAAhB,EAAP;;AAEA,UAAI,KAAKI,QAAT,EAAmB;AACjBF,eAAO,IAAP;AACAA,eAAO,YAAP;AACAA,eAAO,KAAKE,QAAL,CAAcJ,QAAd,EAAP;AACD;;AAED,aAAO,KAAKC,cAAL,GAAsBC,GAA7B;AACD;;;wBA3BkB;AACjB,aAAO,KAAKJ,aAAL,CAAmBK,IAA1B;AACD;;;wBAEqB;AACpB,aAAO,KAAKL,aAAL,CAAmBD,OAA1B;AACD;;;wBAE2B;AAC1B,aAAO,KAAKC,aAAL,CAAmBC,KAA1B;AACD;;;;EAvBsCM,K;;eAApBX,W","file":"ParsedError.js","sourcesContent":["import StackTrace from './StackTrace';\n\nexport default class ParsedError extends Error {\n  originalError: Error;\n  stackTrace: StackTrace;\n\n  constructor(err: Error, stackTrace: StackTrace) {\n    super(err.message);\n    this.originalError = err;\n    this.stackTrace = stackTrace;\n\n    // http://stackoverflow.com/questions/35392675/how-to-override-error-stack-getter\n    this.stack = this.toString();\n  }\n\n  get name(): string {\n    return this.originalError.name;\n  }\n\n  get message(): string {\n    return this.originalError.message;\n  }\n\n  get originalStack(): string {\n    return this.originalError.stack;\n  }\n\n  toString() {\n    if (this._toStringCache) {\n      return this._toStringCache;\n    }\n\n    let str = `ParsedError: ${this.name}: ${this.message}\\n`;\n    str += this.stackTrace.toString();\n\n    if (this.previous) {\n      str += '\\n';\n      str += 'PREVIOUS: ';\n      str += this.previous.toString();\n    }\n\n    return this._toStringCache = str;\n  }\n}\n"]}